

<!DOCTYPE html>
<html class="writer-html5" lang="en,pt-BR" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Comunicação Serial &mdash; CoopRobo 1.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Mobile Robots" href="../../../mobile.html" />
    <link rel="prev" title="Registradores" href="3.3-register.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home" alt="Documentation Home"> CoopRobo
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Robots</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../aerial.html">Aerial Robots</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../vr01.html">VR-01</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../1-autopilot/1.0-pilot.html">Piloto Automatico</a></li>
<li class="toctree-l3"><a class="reference internal" href="../1-autopilot/1.1-config_pilot.html">Configuração do Piloto Automatico</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2-embedded_system/2.0-embedded_system.html">Sistema Embarcado</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="3.0-intro.html">Utilizando o computador embarcado</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="3.1-Ambient_Linux.html">Ambientando-se ao Linux</a></li>
<li class="toctree-l4"><a class="reference internal" href="3.2-CrossCompilation.html">Compilação Cruzada</a></li>
<li class="toctree-l4"><a class="reference internal" href="3.3-register.html">Registradores</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Comunicação Serial</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../vr01.html#referencias">Referências</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../mobile.html">Mobile Robots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../manipulators.html">Manipulators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs-ref.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../camera.html">Camera</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">CoopRobo</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../aerial.html">Aerial Robots</a> &raquo;</li>
        
          <li><a href="../../vr01.html">VR-01</a> &raquo;</li>
        
          <li><a href="3.0-intro.html">Utilizando o computador embarcado</a> &raquo;</li>
        
      <li>Comunicação Serial</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/aerial/vr01/3-gumstix/3.4-Serial.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="comunicacao-serial">
<h1>Comunicação Serial<a class="headerlink" href="#comunicacao-serial" title="Permalink to this headline">¶</a></h1>
<p>A principal caracteristica da comunicação serial é o processo de enviar dados um bit de cada vez, de forma sequencial, atravez de um canal de comunicação ou barramento. Diferente da comunicação paralela, em que todos os bits de cada simbolo são enviados juntos.</p>
<p>Com a finalidade de possibilitar a conversão, transmissão e recepção de dados de forma serial, sendo estes originalmente dispostos de maneira paralela, surge o formato <strong>UART</strong>, acrônimo de Universal Asynchrounous Receiver/Transmiter ou Receptor/Transmissor Universal Assíncrono.</p>
<p>O termo &quot;Universal&quot; refere-se a caracteristica do formato dos dados e velocidade serem configuráveis, enquanto &quot;Assincrono&quot; diz respeito a forma de comunicação em série ocorre, em que as interfaces dos pontos de extremidade que comunicam não estão continuamente sincronizada por um sinal de clock comum.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Mais detalhes sobre a comunicação UART podem ser vistos em <a class="reference external" href="https://microcontrollerslab.com/uart-communication-working-applications/">Introduction to UART Communication - microcontrollerslab.com</a>.</p>
</div>
<p>No caso do Overo, temos três sistemas de Comunicação <strong>UART</strong>  implementados por hardware à nossa disposição. O que faz desnecessário qualquer implementação manual através de software utilizando GPIO.</p>
<p>Agora vamos entender como funciona o protocolo de comunicação UART. Essa comunicação funciona através da conexão do transmissor (<strong>TX</strong>) de um dispositivo com o receptor (<strong>RX</strong>) de outro dispositivo, no caso, apenas o <strong>TX</strong> realiza alterações no nível de tensão da linha, sendo assim, a comunicação é, para cada conexão, uma via de mão única. Logo, para realizar uma comunicação de mão dupla iremos utilizar duas conexões, uma será a ligação de <strong>RX</strong> do dispositivo 1 com o <strong>TX</strong> do dispositivo 2 e a outra ligação será o oposto, <strong>RX</strong> do dispositivo 2 com <strong>TX</strong> do dispositivo 1, similar a imagem abaixo.</p>
<div class="figure align-center">
<img alt="../../../_images/UART_bus.png" src="../../../_images/UART_bus.png" />
</div>
<p>Podemos analisar a situação da comunicação a nível de bit. Por exemplo, para uma comunicação UART do tipo &quot;8N1&quot; (8 bits de dados, 0 bits de paridade e 1 bit de parada) teremos o canal em estado idle, que significa &quot;não operando&quot;, representado pelo nível de tensão estático em alto. Logo, quando pretende-se iniciar a comunicação é enviado um pulso de nível baixo e em seguida são enviados os oito bits de dados que será acompanhado de um bits de parada em estado alto.</p>
<p>É importante destacar que a função do bit de parada é realizar uma pausa na transmissão para algum processamento interno dos dispositivos, não é necessário, portanto, nenhum tempo adicional entre os dados transmitidos.</p>
<p>Como essa é uma comunicação assíncrona, é essencial que a velocidade da comunicação seja pré-determinada. Essa velocidade é geralmente dada em Baudrate e, em nosso caso, 30 será essencialmente o tempo de duração de cada bit.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>O termo &quot;Baud rate&quot; é utilizado como medida de velocidade de transmissão de dados entre dispositivos. Um baud é uma medida de velocidade de sinalização e representa o número de mudanças na linha de transmissão (seja em frequência, amplitude, fase etc...) ou eventos por segundo.</p>
</div>
<p>A figura 3.114 é um esquemático que ilustra o que foi explicado nos parágrafos anteriores, na ilustração a velocidade de comunicação é de 10.000.000 baud/s.</p>
<div class="figure align-center">
<img alt="../../../_images/UART_8N1.png" src="../../../_images/UART_8N1.png" />
</div>
<div class="section" id="particularidades-da-gumstix-overo">
<h2>Particularidades da Gumstix Overo<a class="headerlink" href="#particularidades-da-gumstix-overo" title="Permalink to this headline">¶</a></h2>
<p>O computador embarcado Overo conectado a uma placa de expansão tobi possui dois desses UARTs disponíveis, por padrão, para nosso uso nos pinos apresentados na figura 3.5. Como pode ser visto a UART1 está conectada aos pinos 10 e 9 e a UART3 está conectada aos pinos 22 e 21. Ainda é importante dizer que a porta serial UART3 é o mesmo pino utilizado pelo &quot;USB console&quot;, ou seja, é o mesmo pino que usamos para controlar a gumstix pelo computador, ou seja, em configuração padrão as mensagens do sistema e as mensagens para o sistema são enviadas por esta porta.</p>
<p>Caso as duas portas seriais já mencionadas não sejam suficientes para a aplicação existe, também, a porta serial UART2 que não está, por padrão, disponível em um dos pinos para nossa utilização. Na verdade ela foi reservada para comunicar-se com o bluetooth, contudo apenas versões posteriores ao nosso computador embarcado possuem bluetooth, portanto podemos, caso necessário, exportar a UART2 para os pinos e utiliza-los.</p>
<p>Para utilizar esta porta serial é necessário modificar o u-boot de modo a multiplexar sua função ao GPIO 146/147 que, como mostrado na figura 3.5, estão ligados aos pinos 29 e 27. Portanto para faze-lo é necessário modificar o arquivo &quot;overo.h&quot; removendo as linhas de comando referentes ao modo de GPIO dos pinos 146 e 147, remover as linhas que desabilitam a UART2 e adicionar as linhas que habilitam a comunicação serial pela UART2.</p>
<p>Para entender detalhadamente o que precisa ser feito e quais registradores serão alterados deve-se consultar a seção de comunicação serial de [5]. Contudo existe um tópico no fórum de discussões da gumstix5 que indica diretamente quais alterações devem ser feitos no &quot;uboot&quot; para que se possa utilizar a UART2, apesar disso a solução apresentada nesse fórum não foi testada durante este trabalho.</p>
<div class="section" id="referencias">
<h3>Referências<a class="headerlink" href="#referencias" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>PITA, H. C. Desenvolvimento de sistema de comunicação multiplataforma para veículos aéreos de asa fixa. Faculdade de Tecnologia, Universidade de Brasília, 2018.</p></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../../mobile.html" class="btn btn-neutral float-right" title="Mobile Robots" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="3.3-register.html" class="btn btn-neutral float-left" title="Registradores" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019, Gabriel Araujo

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>